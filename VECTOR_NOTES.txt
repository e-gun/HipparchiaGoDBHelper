Optimization candidates

e-gun/HipparchiaGoVectorHelper/ % date && ./HipparchiaGoVectorHelper -xb lt0474 -xe 140000 && date
Wed May  5 11:18:14 EDT 2021
[GVM] Hipparchia GoVectorMorphology CLI Debugging Interface (v.0.1.0) [loglevel=4]
[GVM] Seeking to build *winnertakesall* bags of words
[GVM] Connected to redis
[GVM] Connected to hipparchiaDB on PostgreSQL
[GVM] No redis key; gathering lines with a direct PostgreSQL query%!(EXTRA string=hipparchiaDB)
[GVM] working with 140000 lines [A: 0.263561s]
[GVM] [B: 125.064382s])
[GVM] [C: 125.150916s])
[GVM] found 53873 sentences [D: 126.021976s]
[GVM] found 79975 distinct words [E: 126.085734s]
[GVM] foundmorph contains 65693)
[GVM] Got morphology [F: %!f(int=53873)s]%!(EXTRA float64=137.373047726)
[GVM] contents of bag[0]: pro¹
[GVM] contents of bag[1]: oratio quis¹ res in duo plurimus possum is contra nos ambo facio in hic tempus summa gratia et eloquor quis² alter
53873 winnertakesall bags of words stored at _vectorresults
Wed May  5 11:20:39 EDT 2021



cicero via loop to get morphology:
1342 •erik@big-sur-box• e-gun/HipparchiaGoDBHelper/ % date && ./HipparchiaGoDBHelper -sv -l 3 -svdb lt0474 -svs 4 -sve 140000 -k "" && date
Wed May  5 16:27:26 EDT 2021
[HGH] Hipparchia Golang Helper CLI Debugging Interface (v.0.0.2) [loglevel=3]
[HGH] Seeking to build *winnertakesall* bags of words
[HGH] Connected to redis
[HGH] Connected to hipparchiaDB on PostgreSQL
[HGH] No redis key; gathering lines with a direct CLI PostgreSQL query%!(EXTRA string=hipparchiaDB)
[HGH] found 53872 sentences [D: 1.237893s]
[HGH] foundmorph contains 65693
[HGH] Got morphology [F: 10.948613s]
[HGH] contents of bag[0]: quis² alter
[HGH] contents of bag[1]: aquilus alter metuo
[HGH] Reached result @ 18.474062s]
bags have been stored at _vectorresultsWed May  5 16:27:45 EDT 2021

retest of cicero via unnest array morphology:

1340 •erik@big-sur-box• e-gun/HipparchiaGoDBHelper/ % date && ./HipparchiaGoDBHelper -sv -l 3 -svdb lt0474 -svs 4 -sve 140000 -k "" && date
Wed May  5 16:25:18 EDT 2021
[HGH] Hipparchia Golang Helper CLI Debugging Interface (v.0.0.2) [loglevel=3]
[HGH] Seeking to build *winnertakesall* bags of words
[HGH] Connected to redis
[HGH] Connected to hipparchiaDB on PostgreSQL
[HGH] No redis key; gathering lines with a direct CLI PostgreSQL query%!(EXTRA string=hipparchiaDB)
[HGH] found 53872 sentences [D: 1.290680s]
[HGH] foundmorph contains 64923 members
[HGH] Got morphology [F: 2.627149s]
[HGH] contents of bag[0]: quis² alter
[HGH] contents of bag[1]: aquilius alter metuo
[HGH] Reached result @ 10.358161s]
bags have been stored at _vectorresultsWed May  5 16:25:29 EDT 2021


retest of cicero via unnest array morphology AND recursive split of the text

date && ./HipparchiaGoDBHelper -sv -l 3 -svdb lt0474 -svs 4 -sve 140000 -k "" && date
Thu May  6 12:52:29 EDT 2021
[HGH] Hipparchia Golang Helper CLI Debugging Interface (v.0.0.4) [loglevel=3]
[HGH] Seeking to build *winnertakesall* bags of words
[HGH] Connected to redis
[HGH] Connected to hipparchiaDB on PostgreSQL
[HGH] No redis key; gathering lines with a direct CLI PostgreSQL query%!(EXTRA string=hipparchiaDB)
[HGH] found 79683 sentences [D: 1.590132s]
[HGH] foundmorph contains 65693 members
[HGH] Got morphology [F: 3.167224s]
[HGH] contents of bag[0]:
[HGH] contents of bag[1]: qui¹ alter
[HGH] Reached result @ 13.265072s]
bags have been stored at _vectorresultsThu May  6 12:52:42 EDT 2021
